<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node.js Visual Learning Hub</title>
    <style>
        :root {
            --primary: #68a063;
            --secondary: #43853d;
            --dark: #333;
            --light: #f8f9fa;
            --gray: #6c757d;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background-color: var(--primary);
            color: white;
            padding: 20px 0;
            text-align: center;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            margin: 0;
            font-size: 2.5rem;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .timeline {
            display: flex;
            flex-direction: column;
            margin: 40px 0;
        }
        
        .phase {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: relative;
            border-left: 4px solid var(--primary);
            transition: transform 0.3s ease;
        }
        
        .phase:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .phase-title {
            color: var(--primary);
            margin-top: 0;
            display: flex;
            align-items: center;
        }
        
        .phase-icon {
            margin-right: 10px;
            font-size: 1.5rem;
        }
        
        .concepts {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 15px;
        }
        
        .concept-card {
            background: white;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 15px;
            width: calc(33% - 15px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .concept-card:hover {
            border-color: var(--primary);
            box-shadow: 0 4px 8px rgba(104, 160, 99, 0.2);
        }
        
        .concept-card h3 {
            margin-top: 0;
            color: var(--secondary);
            font-size: 1.1rem;
        }
        
        .concept-visual {
            background: #f0f0f0;
            height: 120px;
            border-radius: 4px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            overflow-y: auto;
        }
        
        .modal-content {
            background: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 8px;
            width: 70%;
            max-width: 800px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }
        
        .character-card {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .character-icon {
            font-size: 2rem;
            margin-right: 15px;
            color: var(--primary);
        }
        
        .diagram {
            width: 100%;
            background: #f8f9fa;
            border-radius: 6px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .code-block {
            background: #282c34;
            color: #abb2bf;
            padding: 15px;
            border-radius: 6px;
            font-family: 'Courier New', Courier, monospace;
            overflow-x: auto;
            margin: 15px 0;
        }
        
        .http-methods {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
        }
        
        .http-method {
            padding: 5px 10px;
            border-radius: 4px;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .get { background: #61affe; }
        .post { background: #49cc90; }
        .put { background: #fca130; }
        .patch { background: #50e3c2; }
        .delete { background: #f93e3e; }
        
        @media (max-width: 768px) {
            .concept-card {
                width: 100%;
            }
            
            .modal-content {
                width: 90%;
                margin: 10% auto;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <h1><i class="fab fa-node-js"></i> Centro Visual de Aprendizaje Node.js</h1>
            <p class="subtitle">Aprende conceptos de Node.js mediante diagramas interactivos y explicaciones visuales</p>
        </div>
    </header>

    <div class="container">
        <div class="timeline">
            <!-- Fase 1 -->
            <div class="phase">
                <h2 class="phase-title"><i class="fas fa-map-signs phase-icon"></i> Fase 1: Introducción a Node.js</h2>
                <p>Conceptos fundamentales y arquitectura de Node.js</p>
                
                <div class="concepts">
                    <div class="concept-card" onclick="openModal('node-definition')">
                        <div class="concept-visual">
                            <i class="fab fa-node-js" style="font-size: 3rem; color: #68a063;"></i>
                        </div>
                        <h3>¿Qué es Node.js?</h3>
                        <p>Entorno de ejecución de JavaScript basado en el motor V8 de Chrome</p>
                    </div>
                    
                    <div class="concept-card" onclick="openModal('sync-async')">
                        <div class="concept-visual">
                            <div style="display: flex; justify-content: space-around; width: 100%;">
                                <div style="text-align: center;">
                                    <i class="fas fa-stopwatch" style="font-size: 2rem; color: #e74c3c;"></i>
                                    <p style="margin: 5px 0 0; font-size: 0.8rem;">Sincrónico</p>
                                </div>
                                <div style="text-align: center;">
                                    <i class="fas fa-bolt" style="font-size: 2rem; color: #2ecc71;"></i>
                                    <p style="margin: 5px 0 0; font-size: 0.8rem;">Asincrónico</p>
                                </div>
                            </div>
                        </div>
                        <h3>Sincrónico vs Asincrónico</h3>
                        <p>Operaciones bloqueantes vs no bloqueantes</p>
                    </div>
                    
                    <div class="concept-card" onclick="openModal('client-server')">
                        <div class="concept-visual">
                            <div style="display: flex; justify-content: center; align-items: flex-end; height: 100%;">
                                <div style="text-align: center; margin: 0 10px;">
                                    <i class="fas fa-laptop" style="font-size: 2rem;"></i>
                                    <div style="font-size: 0.7rem;">Cliente</div>
                                </div>
                                <div style="margin: 0 10px;">
                                    <i class="fas fa-exchange-alt" style="font-size: 1.5rem;"></i>
                                </div>
                                <div style="text-align: center; margin: 0 10px;">
                                    <i class="fas fa-server" style="font-size: 2rem;"></i>
                                    <div style="font-size: 0.7rem;">Servidor</div>
                                </div>
                            </div>
                        </div>
                        <h3>Modelo Cliente-Servidor</h3>
                        <p>Cómo se comunican los navegadores y los servidores</p>
                    </div>
                </div>
            </div>
            
            <!-- Phase 2 -->
            <div class="phase">
                <h2 class="phase-title"><i class="fas fa-download phase-icon"></i> Fase 2: Instalación y Entorno</h2>
                <p>Configurando tu entorno de desarrollo Node.js</p>
                
                <div class="concepts">
                    <div class="concept-card" onclick="openModal('npm')">
                        <div class="concept-visual">
                            <i class="fab fa-npm" style="font-size: 3rem; color: #cb3837;"></i>
                        </div>
                        <h3>Node Package Manager (NPM)</h3>
                        <p>World's largest software registry</p>
                    </div>
                    
                    <div class="concept-card" onclick="openModal('repl')">
                        <div class="concept-visual">
                            <div class="code-block" style="margin: 0; padding: 10px; font-size: 0.8rem;">
                                > const x = 5<br>
                                undefined<br>
                                > x * 2<br>
                                10
                            </div>
                        </div>
                        <h3>Node REPL</h3>
                        <p>Interactive JavaScript shell</p>
                    </div>
                    
                    <div class="concept-card" onclick="openModal('package-json')">
                        <div class="concept-visual">
                            <div style="font-family: monospace; text-align: left; padding: 10px; font-size: 0.7rem;">
                                {<br>
                                &nbsp;&nbsp;"name": "my-app",<br>
                                &nbsp;&nbsp;"version": "1.0.0",<br>
                                &nbsp;&nbsp;"dependencies": {<br>
                                &nbsp;&nbsp;&nbsp;&nbsp;"express": "^4.17.1"<br>
                                &nbsp;&nbsp;}<br>
                                }
                            </div>
                        </div>
                        <h3>package.json</h3>
                        <p>Project configuration file</p>
                    </div>
                </div>
            </div>
            
            <!-- Phase 3 -->
            <div class="phase">
                <h2 class="phase-title"><i class="fas fa-puzzle-piece phase-icon"></i> Fase 3: Módulos y Módulos Principales</h2>
                <p>Trabajando con módulos de Node.js y funcionalidad incorporada</p>
                
                <div class="concepts">
                    <div class="concept-card" onclick="openModal('modules')">
                        <div class="concept-visual">
                            <div style="display: flex; justify-content: space-around; width: 100%;">
                                <div style="text-align: center;">
                                    <i class="fas fa-file-export" style="font-size: 2rem;"></i>
                                    <p style="margin: 5px 0 0; font-size: 0.7rem;">Exportar</p>
                                </div>
                                <div style="text-align: center;">
                                    <i class="fas fa-file-import" style="font-size: 2rem;"></i>
                                    <p style="margin: 5px 0 0; font-size: 0.7rem;">Importar</p>
                                </div>
                            </div>
                        </div>
                        <h3>Sistema de Módulos</h3>
                        <p>Importando y exportando funcionalidad</p>
                    </div>
                    
                    <div class="concept-card" onclick="openModal('fs-module')">
                        <div class="concept-visual">
                            <i class="fas fa-file-alt" style="font-size: 2rem;"></i>
                            <i class="fas fa-arrow-right" style="font-size: 1.5rem; margin: 0 10px;"></i>
                            <i class="fas fa-database" style="font-size: 2rem;"></i>
                        </div>
                        <h3>Sistema de Archivos (fs)</h3>
                        <p>Interacción con el sistema de archivos</p>
                    </div>
                    
                    <div class="concept-card" onclick="openModal('events')">
                        <div class="concept-visual">
                            <i class="fas fa-bell" style="font-size: 2rem;"></i>
                            <i class="fas fa-arrow-right" style="font-size: 1.5rem; margin: 0 10px;"></i>
                            <i class="fas fa-headphones" style="font-size: 2rem;"></i>
                        </div>
                        <h3>Eventos y EventEmitter</h3>
                        <p>Arquitectura impulsada por eventos de Node.js</p>
                    </div>
                </div>
            </div>
            
            <!-- Phase 4 -->
            <div class="phase">
                <h2 class="phase-title"><i class="fas fa-boxes phase-icon"></i> Fase 4: NPM y JSON</h2>
                <p>Gestión de paquetes e intercambio de datos</p>
                
                <div class="concepts">
                    <div class="concept-card" onclick="openModal('dependencies')">
                        <div class="concept-visual">
                            <i class="fas fa-project-diagram" style="font-size: 2rem;"></i>
                        </div>
                        <h3>Dependencias</h3>
                        <p>Gestión de dependencias del proyecto</p>
                    </div>
                    
                    <div class="concept-card" onclick="openModal('json')">
                        <div class="concept-visual">
                            <div style="font-family: monospace; text-align: left; padding: 10px; font-size: 0.7rem;">
                                {<br>
                                &nbsp;&nbsp;"name": "John",<br>
                                &nbsp;&nbsp;"age": 30,<br>
                                &nbsp;&nbsp;"city": "New York"<br>
                                }
                            </div>
                        </div>
                        <h3>Formato JSON</h3>
                        <p>Notación de Objetos de JavaScript</p>
                    </div>
                    
                    <div class="concept-card" onclick="openModal('package-lock')">
                        <div class="concept-visual">
                            <i class="fas fa-lock" style="font-size: 2rem;"></i>
                            <i class="fas fa-file-alt" style="font-size: 2rem; margin-left: 10px;"></i>
                        </div>
                        <h3>package-lock.json</h3>
                        <p>Bloqueo de versiones de dependencias</p>
                    </div>
                </div>
            </div>
            
            <!-- Phase 5 -->
            <div class="phase">
                <h2 class="phase-title"><i class="fas fa-server phase-icon"></i> Fase 5: Servidores HTTP (Sin Express)</h2>
                <p>Creando servidores con módulos principales de Node.js</p>
                
                <div class="concepts">
                    <div class="concept-card" onclick="openModal('http-module')">
                        <div class="concept-visual">
                            <i class="fas fa-globe" style="font-size: 2rem;"></i>
                            <i class="fas fa-exchange-alt" style="font-size: 1.5rem; margin: 0 10px;"></i>
                            <i class="fas fa-code" style="font-size: 2rem;"></i>
                        </div>
                        <h3>Módulo HTTP</h3>
                        <p>Creando servidores con http.createServer()</p>
                    </div>
                    
                    <div class="concept-card" onclick="openModal('request-response')">
                        <div class="concept-visual">
                            <div style="display: flex; justify-content: center; align-items: center; height: 100%;">
                                <div style="text-align: center;">
                                    <i class="fas fa-paper-plane" style="font-size: 1.5rem;"></i>
                                    <div style="font-size: 0.7rem;">Solicitud</div>
                                </div>
                                <div style="margin: 0 15px;">
                                    <i class="fas fa-exchange-alt" style="font-size: 1.5rem;"></i>
                                </div>
                                <div style="text-align: center;">
                                    <i class="fas fa-reply" style="font-size: 1.5rem;"></i>
                                    <div style="font-size: 0.7rem;">Respuesta</div>
                                </div>
                            </div>
                        </div>
                        <h3>Solicitud y Respuesta</h3>
                        <p>Manejo de mensajes HTTP</p>
                    </div>
                    
                    <div class="concept-card" onclick="openModal('routing')">
                        <div class="concept-visual">
                            <div style="display: flex; justify-content: center; align-items: center; height: 100%;">
                                <i class="fas fa-route" style="font-size: 2rem;"></i>
                            </div>
                        </div>
                        <h3>Enrutamiento Básico</h3>
                        <p>Manejo de diferentes rutas URL</p>
                    </div>
                </div>
            </div>
            
            <!-- Phase 6 -->
            <div class="phase">
                <h2 class="phase-title"><i class="fas fa-rocket phase-icon"></i> Fase 6: Express.js</h2>
                <p>Framework para aplicaciones web en Node.js</p>
                
                <div class="concepts">
                    <div class="concept-card" onclick="openModal('express-intro')">
                        <div class="concept-visual">
                            <i class="fas fa-bolt" style="font-size: 2rem; color: #000;"></i>
                            <span style="font-size: 1.5rem; margin-left: 5px;">Express</span>
                        </div>
                        <h3>Framework Express</h3>
                        <p>Simplificando la creación de servidores</p>
                    </div>
                    
                    <div class="concept-card" onclick="openModal('middleware')">
                        <div class="concept-visual">
                            <div style="display: flex; justify-content: center; align-items: center; height: 100%;">
                                <div style="text-align: center;">
                                    <i class="fas fa-filter" style="font-size: 1.5rem;"></i>
                                    <div style="font-size: 0.7rem;">Middleware</div>
                                </div>
                            </div>
                        </div>
                        <h3>Middleware</h3>
                        <p>El pipeline de procesamiento de Express</p>
                    </div>
                    
                    <div class="concept-card" onclick="openModal('rest-crud')">
                        <div class="concept-visual">
                            <div class="http-methods" style="justify-content: center;">
                                <span class="get">GET</span>
                                <span class="post">POST</span>
                                <span class="put">PUT</span>
                                <span class="delete">DELETE</span>
                            </div>
                        </div>
                        <h3>REST y CRUD</h3>
                        <p>Principios de diseño de API</p>
                    </div>
                </div>
            </div>
        </div>
        
        <h2 style="margin-top: 40px; color: var(--primary);"><i class="fas fa-users"></i> Personajes Clave en Node.js</h2>
        
        <div class="character-card">
            <div class="character-icon"><i class="fab fa-node-js"></i></div>
            <div>
                <h3 style="margin: 0 0 5px 0;">Node.js</h3>
                <p style="margin: 0;">El protagonista - Entorno de ejecución de JavaScript basado en el motor V8 de Chrome que ejecuta código JavaScript fuera de un navegador.</p>
            </div>
        </div>
        
        <div class="character-card">
            <div class="character-icon"><i class="fas fa-bolt"></i></div>
            <div>
                <h3 style="margin: 0 0 5px 0;">Express.js</h3>
                <p style="margin: 0;">El compañero - Framework web para Node.js que simplifica la creación de servidores y ofrece características robustas.</p>
            </div>
        </div>
        
        <div class="character-card">
            <div class="character-icon"><i class="fab fa-npm"></i></div>
            <div>
                <h3 style="margin: 0 0 5px 0;">NPM</h3>
                <p style="margin: 0;">El gestor de paquetes - El registro de software más grande del mundo con más de 1.3 millones de paquetes.</p>
            </div>
        </div>
        
        <div class="character-card">
            <div class="character-icon"><i class="fas fa-ghost"></i></div>
            <div>
                <h3 style="margin: 0 0 5px 0;">Nodemon</h3>
                <p style="margin: 0;">El ayudante del desarrollador - Utilidad que monitorea cambios en archivos y reinicia automáticamente tu aplicación Node.</p>
            </div>
        </div>
    </div>
    
    <!-- Modals -->
    <div id="node-definition" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('node-definition')">&times;</span>
            <h2>¿Qué es Node.js?</h2>
            
            <div class="diagram">
                <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 20px;">
                    <div style="text-align: center; margin: 0 20px;">
                        <i class="fab fa-js-square" style="font-size: 3rem; color: #f0db4f;"></i>
                        <div>JavaScript</div>
                    </div>
                    <i class="fas fa-arrow-right" style="font-size: 1.5rem;"></i>
                    <div style="text-align: center; margin: 0 20px;">
                        <i class="fab fa-chrome" style="font-size: 3rem, color: #4285F4;"></i>
                        <div>V8 Engine</div>
                    </div>
                    <i class="fas fa-arrow-right" style="font-size: 1.5rem;"></i>
                    <div style="text-align: center; margin: 0 20px;">
                        <i class="fab fa-node-js" style="font-size: 3rem; color: #68a063;"></i>
                        <div>Node.js</div>
                    </div>
                </div>
                
                <div style="background: white; padding: 15px; border-radius: 6px; display: inline-block; max-width: 600px;">
                    <h3 style="margin-top: 0;">Características Clave:</h3>
                    <ul>
                        <li><strong>Entorno de JavaScript:</strong> Ejecuta código JavaScript fuera del navegador</li>
                        <li><strong>Basado en V8:</strong> El motor de JavaScript de alto rendimiento de Google</li>
                        <li><strong>Impulsado por Eventos:</strong> Usa I/O asíncrono y no bloqueante</li>
                        <li><strong>Unico Hilo:</strong> Pero altamente escalable a través del bucle de eventos</li>
                        <li><strong>Multiplataforma:</strong> Funciona en Windows, Linux, MacOS, etc.</li>
                    </ul>
                </div>
            </div>
            
            <h3>¿Por qué usar Node.js?</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;"><i class="fas fa-tachometer-alt"></i> Rendimiento</h4>
                    <p>Ejecuta rápido gracias al motor V8 y I/O no bloqueante</p>
                </div>
                <div style="flex: 1; min-width: 200px; background: #e3f2fd; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;"><i class="fas fa-code"></i> Un Solo Lenguaje</h4>
                    <p>JavaScript tanto en el frontend como en el backend</p>
                </div>
                <div style="flex: 1; min-width: 200px; background: #fff8e1; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;"><i class="fas fa-box-open"></i> Ecosistema NPM</h4>
                    <p>Acceso a miles de paquetes de código abierto</p>
                </div>
            </div>
        </div>
    </div>
    
    <div id="sync-async" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('sync-async')">&times;</span>
            <h2>Sincrónico vs Asincrónico</h2>
            
            <div style="display: flex; justify-content: space-between; flex-wrap: wrap; gap: 20px; margin: 20px 0;">
                <div style="flex: 1; min-width: 300px;">
                    <h3 style="color: #e74c3c;"><i class="fas fa-stopwatch"></i> Sincrónico</h3>
                    <div style="background: #fdedec; padding: 15px; border-radius: 6px;">
                        <p><strong>Operaciones bloqueantes</strong> - Cada operación debe completarse antes de que comience la siguiente</p>
                        <div style="margin: 15px 0;">
                            <div style="display: flex; align-items: center; margin-bottom: 5px;">
                                <div style="width: 20px; height: 20px; background: #e74c3c; margin-right: 10px;"></div>
                                <div>Tarea 1 (5s)</div>
                            </div>
                            <div style="display: flex; align-items: center; margin-bottom: 5px;">
                                <div style="width: 20px; height: 20px; background: #e74c3c; margin-right: 10px;"></div>
                                <div>Tarea 2 (3s)</div>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <div style="width: 20px; height: 20px; background: #e74c3c; margin-right: 10px;"></div>
                                <div>Tarea 3 (2s)</div>
                            </div>
                        </div>
                        <p><strong>Tiempo total:</strong> 10 segundos</p>
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 300px;">
                    <h3 style="color: #2ecc71;"><i class="fas fa-bolt"></i> Asincrónico</h3>
                    <div style="background: #e8f8f5; padding: 15px; border-radius: 6px;">
                        <p><strong>Operaciones no bloqueantes</strong> - Las operaciones pueden ejecutarse en paralelo</p>
                        <div style="margin: 15px 0;">
                            <div style="display: flex; align-items: center; margin-bottom: 5px;">
                                <div style="width: 100px; height: 20px; background: #2ecc71; margin-right: 10px;"></div>
                                <div>Tarea 1 (5s)</div>
                            </div>
                            <div style="display: flex; align-items: center; margin-bottom: 5px;">
                                <div style="width: 60px; height: 20px; background: #2ecc71; margin-right: 10px;"></div>
                                <div>Tarea 2 (3s)</div>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <div style="width: 40px; height: 20px; background: #2ecc71; margin-right: 10px;"></div>
                                <div>Tarea 3 (2s)</div>
                            </div>
                        </div>
                        <p><strong>Tiempo total:</strong> ~5 segundos</p>
                    </div>
                </div>
            </div>
            
            <h3>Bucle de Eventos de Node.js</h3>
            <div class="diagram">
                <div style="text-align: center; margin-bottom: 20px;">
                    <img src="https://i.imgur.com/9B0wBcB.png" alt="Node.js Event Loop Diagram" style="max-width: 100%; height: auto; border-radius: 6px;">
                </div>
                <p>Node.js utiliza un modelo de I/O no bloqueante y basado en eventos que lo hace ligero y eficiente.</p>
            </div>
        </div>
    </div>
    
    <div id="client-server" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('client-server')">&times;</span>
            <h2>Modelo Cliente-Servidor</h2>
            
            <div class="diagram">
                <div style="display: flex; justify-content: center; align-items: center; margin-bottom: 20px;">
                    <div style="text-align: center; background: #e3f2fd; padding: 15px; border-radius: 6px; margin: 0 10px;">
                        <i class="fas fa-laptop" style="font-size: 2rem;"></i>
                        <h3>Cliente</h3>
                        <ul style="text-align: left;">
                            <li>Navegador (Chrome, Firefox)</li>
                            <li>Aplicación Móvil</li>
                            <li>Otros Servidores</li>
                        </ul>
                    </div>
                    
                    <div style="margin: 0 20px;">
                        <div style="display: flex; flex-direction: column; align-items: center;">
                            <i class="fas fa-arrow-right" style="font-size: 1.5rem;"></i>
                            <div style="font-size: 0.8rem; margin: 5px 0;">Solicitud HTTP</div>
                        </div>
                        <div style="display: flex; flex-direction: column; align-items: center; margin-top: 10px;">
                            <i class="fas fa-arrow-left" style="font-size: 1.5rem;"></i>
                            <div style="font-size: 0.8rem; margin: 5px 0;">Respuesta HTTP</div>
                        </div>
                    </div>
                    
                    <div style="text-align: center; background: #e8f5e9; padding: 15px; border-radius: 6px; margin: 0 10px;">
                        <i class="fas fa-server" style="font-size: 2rem;"></i>
                        <h3>Servidor</h3>
                        <ul style="text-align: left;">
                            <li>Aplicación Node.js</li>
                            <li>Maneja Solicitudes</li>
                            <li>Envía Respuestas</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <h3>Ciclo de Solicitud-Respuesta HTTP</h3>
            <div style="background: #f5f5f5; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                <ol>
                    <li><strong>El cliente envía una solicitud:</strong> URL, método (GET, POST), encabezados, cuerpo</li>
                    <li><strong>El servidor procesa la solicitud:</strong> Enrutamiento, lógica de negocio, operaciones de base de datos</li>
                    <li><strong>El servidor envía una respuesta:</strong> Código de estado, encabezados, cuerpo de respuesta</li>
                    <li><strong>El cliente maneja la respuesta:</strong> Renderizar HTML, procesar JSON, etc.</li>
                </ol>
            </div>
        </div>
    </div>
    
    <div id="npm" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('npm')">&times;</span>
            <h2>Node Package Manager (NPM)</h2>
            
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                <i class="fab fa-npm" style="font-size: 4rem; color: #cb3837; margin-right: 20px;"></i>
                <div>
                    <p>NPM es el registro de software más grande del mundo con más de 1.3 millones de paquetes.</p>
                    <p>Se incluye con la instalación de Node.js y se utiliza para:</p>
                    <ul>
                        <li>Instalar paquetes</li>
                        <li>Gestionar dependencias</li>
                        <li>Ejecutar scripts</li>
                        <li>Publicar tus propios paquetes</li>
                    </ul>
                </div>
            </div>
            
            <h3>Comandos Clave de NPM</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Inicializar Proyecto</h4>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm init
                    </div>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm init -y
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Instalar Paquetes</h4>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm install express
                    </div>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm install express@4.17.1
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Otros Comandos</h4>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm uninstall express
                    </div>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm update
                    </div>
                </div>
            </div>
            
            <h3>Tipos de Dependencias</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">dependencies</h4>
                    <p>Paquetes requeridos para que tu aplicación funcione en producción</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm install express --save
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #e3f2fd; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">devDependencies</h4>
                    <p>Paquetes solo necesarios para el desarrollo (pruebas, construcción, etc.)</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm install nodemon --save-dev
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="repl" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('repl')">&times;</span>
            <h2>Node REPL (Read-Eval-Print Loop)</h2>
            
            <div style="display: flex; align-items: flex-start; margin-bottom: 20px;">
                <div style="flex: 1; min-width: 300px;">
                    <h3>Shell Interactiva de JavaScript</h3>
                    <p>El REPL de Node.js es un entorno interactivo donde puedes:</p>
                    <ul>
                        <li>Probar código JavaScript rápidamente</li>
                        <li>Experimentar con las API de Node.js</li>
                        <li>Depurar fragmentos de código</li>
                        <li>Acceder a resultados usados recientemente con <code>_</code></li>
                    </ul>
                </div>
                <div style="flex: 1; min-width: 300px; background: #282c34; color: #abb2bf; padding: 15px; border-radius: 6px; font-family: monospace;">
                    <div>> const x = 5</div>
                    <div>undefined</div>
                    <div>> const y = 10</div>
                    <div>undefined</div>
                    <div>> x + y</div>
                    <div>15</div>
                    <div>> _ + 5 // _ holds last result</div>
                    <div>20</div>
                    <div>> .help // show commands</div>
                    <div>> .exit // quit REPL</div>
                </div>
            </div>
            
            <h3>Iniciando el REPL</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">REPL Básico</h4>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        $ node
                    </div>
                    <p style="margin-bottom: 0;">Solo escribe <code>node</code> en tu terminal</p>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Ejecutar Archivo</h4>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        $ node app.js
                    </div>
                    <p style="margin-bottom: 0;">Ejecuta un archivo JavaScript con Node</p>
                </div>
            </div>
        </div>
    </div>
    
    <div id="package-json" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('package-json')">&times;</span>
            <h2>package.json</h2>
            
            <div style="display: flex; align-items: flex-start; margin-bottom: 20px;">
                <div style="flex: 1; min-width: 300px;">
                    <h3>Archivo de Configuración del Proyecto</h3>
                    <p>El <code>package.json</code> es el corazón de cualquier proyecto Node.js. Contiene:</p>
                    <ul>
                        <li>Metadatos del proyecto (nombre, versión, descripción)</li>
                        <li>Scripts para tareas comunes</li>
                        <li>Dependencias (producción y desarrollo)</li>
                        <li>Otras opciones de configuración</li>
                    </ul>
                </div>
                <div style="flex: 1; min-width: 300px; background: #f5f5f5; padding: 15px; border-radius: 6px; font-family: monospace; font-size: 0.8rem;">
                    {<br>
                    &nbsp;&nbsp;"name": "my-app",<br>
                    &nbsp;&nbsp;"version": "1.0.0",<br>
                    &nbsp;&nbsp;"description": "A sample Node.js app",<br>
                    &nbsp;&nbsp;"main": "index.js",<br>
                    &nbsp;&nbsp;"scripts": {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"start": "node index.js",<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"dev": "nodemon index.js"<br>
                    &nbsp;&nbsp;},<br>
                    &nbsp;&nbsp;"dependencies": {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"express": "^4.17.1"<br>
                    &nbsp;&nbsp;},<br>
                    &nbsp;&nbsp;"devDependencies": {<br>
                    &nbsp;&nbsp;&nbsp;&nbsp;"nodemon": "^2.0.7"<br>
                    &nbsp;&nbsp;}<br>
                    }
                </div>
            </div>
            
            <h3>Campos Clave Explicados</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">scripts</h4>
                    <p>Comandos personalizados que puedes ejecutar con <code>npm run &lt;nombre-del-script&gt;</code></p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm run dev
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #e3f2fd; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">dependencies</h4>
                    <p>Paquetes requeridos para que tu aplicación funcione en producción</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm install express --save
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #fff8e1; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">devDependencies</h4>
                    <p>Paquetes solo necesarios durante el desarrollo</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm install nodemon --save-dev
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="modules" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('modules')">&times;</span>
            <h2>Sistema de Módulos de Node.js</h2>
            
            <div style="display: flex; align-items: flex-start; margin-bottom: 20px;">
                <div style="flex: 1; min-width: 300px;">
                    <h3>Exportando desde un Módulo</h3>
                    <p>En Node.js, cada archivo se trata como un módulo separado. Para hacer que funciones, objetos o valores estén disponibles para otros archivos, debes exportarlos.</p>
                    
                    <div class="code-block" style="margin: 15px 0;">
                        // mathUtils.js<br>
                        const add = (a, b) => a + b;<br>
                        const subtract = (a, b) => a - b;<br><br>
                        
                        // Exportando múltiples funciones<br>
                        module.exports = {<br>
                        &nbsp;&nbsp;add,<br>
                        &nbsp;&nbsp;subtract<br>
                        };
                    </div>
                </div>
                <div style="flex: 1; min-width: 300px;">
                    <h3>Importando un Módulo</h3>
                    <p>Para usar la funcionalidad de otro módulo, necesitas requerirlo.</p>
                    
                    <div class="code-block" style="margin: 15px 0;">
                        // app.js<br>
                        const math = require('./mathUtils');<br><br>
                        
                        console.log(math.add(5, 3)); // 8<br>
                        console.log(math.subtract(5, 3)); // 2<br><br>
                        
                        // O con desestructuración<br>
                        const { add, subtract } = require('./mathUtils');
                    </div>
                </div>
            </div>
            
            <h3>Tipos de Módulos</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Módulos Locales</h4>
                    <p>Archivos que creas en tu proyecto</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        const myModule = require('./myModule');
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #e3f2fd; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Módulos Principales</h4>
                    <p>Módulos incorporados en Node.js</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        const fs = require('fs');
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #fff8e1; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Módulos de NPM</h4>
                    <p>Paquetes de terceros de npm</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        const express = require('express');
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="fs-module" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('fs-module')">&times;</span>
            <h2>Módulo del Sistema de Archivos (fs)</h2>
            
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                <i class="fas fa-file-alt" style="font-size: 3rem; margin-right: 20px;"></i>
                <div>
                    <p>El <code>fs</code> módulo permite trabajar con el sistema de archivos en tu computadora. Proporciona métodos tanto sincrónicos como asincrónicos.</p>
                </div>
            </div>
            
            <h3>Operaciones Comunes de fs</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Leer Archivos</h4>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        // Asincrónico<br>
                        fs.readFile('file.txt', 'utf8', (err, data) => {<br>
                        &nbsp;&nbsp;if (err) throw err;<br>
                        &nbsp;&nbsp;console.log(data);<br>
                        });<br><br>
                        
                        // Sincrónico<br>
                        const data = fs.readFileSync('file.txt', 'utf8');
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Escribir Archivos</h4>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        // Asincrónico<br>
                        fs.writeFile('file.txt', '¡Hola!', (err) => {<br>
                        &nbsp;&nbsp;if (err) throw err;<br>
                        &nbsp;&nbsp;console.log('¡Archivo guardado!');<br>
                        });<br><br>
                        
                        // Sincrónico<br>
                        fs.writeFileSync('file.txt', '¡Hola!');
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Otras Operaciones</h4>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        // Renombrar archivo<br>
                        fs.rename('old.txt', 'new.txt', cb);<br><br>
                        
                        // Eliminar archivo<br>
                        fs.unlink('file.txt', cb);<br><br>
                        
                        // Crear directorio<br>
                        fs.mkdir('folder', cb);
                    </div>
                </div>
            </div>
            
            <h3>Cuándo Usar Sincrónico vs Asincrónico</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Sincrónico</h4>
                    <ul>
                        <li>Operaciones bloqueantes</li>
                        <li>Flujo de código más simple</li>
                        <li>Usar para scripts, no para servidores</li>
                    </ul>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #e3f2fd; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Asincrónico</h4>
                    <ul>
                        <li>Operaciones no bloqueantes</li>
                        <li>Mejor para servidores</li>
                        <li>Requiere callbacks o promesas</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    
    <div id="events" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('events')">&times;</span>
            <h2>Eventos y EventEmitter</h2>
            
            <div style="display: flex; align-items: flex-start; margin-bottom: 20px;">
                <div style="flex: 1; min-width: 300px;">
                    <h3>Arquitectura Impulsada por Eventos</h3>
                    <p>Node.js está construido alrededor de una arquitectura impulsada por eventos donde los objetos (emisor) emiten eventos nombrados que provocan que se llamen funciones (escuchadores).</p>
                    
                    <div class="code-block" style="margin: 15px 0;">
                        const EventEmitter = require('events');<br>
                        const myEmitter = new EventEmitter();<br><br>
                        
                        // Registrar un escuchador<br>
                        myEmitter.on('event', () => {<br>
                        &nbsp;&nbsp;console.log('¡Ocurrió un evento!');<br>
                        });<br><br>
                        
                        // Emitir el evento<br>
                        myEmitter.emit('event');
                    </div>
                </div>
                <div style="flex: 1; min-width: 300px;">
                    <div class="diagram">
                        <div style="text-align: center;">
                            <div style="display: inline-block; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                                <div style="font-weight: bold; margin-bottom: 10px;">EventEmitter</div>
                                <div style="margin-bottom: 10px;">
                                    <div style="background: #e3f2fd; padding: 5px; border-radius: 4px; margin-bottom: 5px;">.on('event', listener)</div>
                                    <div style="background: #e3f2fd; padding: 5px; border-radius: 4px; margin-bottom: 5px;">.emit('event')</div>
                                </div>
                                <i class="fas fa-arrow-down" style="font-size: 1.5rem;"></i>
                                <div style="margin-top: 10px;">
                                    <div style="background: #e8f5e9; padding: 5px; border-radius: 4px;">Función Escuchadora</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <h3>Métodos Comunes de EventEmitter</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">.on(event, listener)</h4>
                    <p>Agrega una función escuchadora para el evento especificado</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        emitter.on('data', (data) => {<br>
                        &nbsp;&nbsp;console.log(data);<br>
                        });
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">.emit(event, [...args])</h4>
                    <p>LLama a cada escuchador registrado para el evento</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        emitter.emit('data', { id: 1 });
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">.once(event, listener)</h4>
                    <p>Agrega un escuchador que se llama una vez y luego se elimina</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        emitter.once('connect', () => {<br>
                        &nbsp;&nbsp;console.log('¡Conectado!');<br>
                        });
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="dependencies" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('dependencies')">&times;</span>
            <h2>Gestión de Dependencias</h2>
            
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                <i class="fas fa-project-diagram" style="font-size: 3rem; margin-right: 20px;"></i>
                <div>
                    <p>Los proyectos de Node.js a menudo dependen de muchos paquetes externos. NPM ayuda a gestionar estas dependencias de manera eficiente.</p>
                </div>
            </div>
            
            <h3>Tipos de Dependencias</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Dependencias Regulares</h4>
                    <p>Paquetes requeridos para que tu aplicación funcione en producción</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm install express --save
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #e3f2fd; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Dependencias de Desarrollo</h4>
                    <p>Paquetes solo necesarios durante el desarrollo</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm install nodemon --save-dev
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #fff8e1; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Dependencias Globales</h4>
                    <p>Paquetes instalados a nivel del sistema</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        npm install -g nodemon
                    </div>
                </div>
            </div>
            
            <h3>Gestión de Versiones</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Versionado Semántico</h4>
                    <p>Mayor.Menor.Patch (por ejemplo, 4.17.1)</p>
                    <ul>
                        <li><strong>^4.17.1</strong>: Permitir actualizaciones menores/parches</li>
                        <li><strong>~4.17.1</strong>: Permitir solo actualizaciones de parches</li>
                        <li><strong>4.17.1</strong>: Versión exacta</li>
                    </ul>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">package-lock.json</h4>
                    <p>Bloquea las versiones de las dependencias para asegurar instalaciones consistentes</p>
                    <p>Generado automáticamente - ¡no editar manualmente!</p>
                </div>
            </div>
        </div>
    </div>
    
    <div id="json" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('json')">&times;</span>
            <h2>JSON (Notación de Objetos de JavaScript)</h2>
            
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                <div style="font-size: 3rem; margin-right: 20px;">{ }</div>
                <div>
                    <p>JSON es un formato ligero de intercambio de datos que es fácil de leer y escribir para los humanos, y fácil de analizar y generar para las máquinas.</p>
                </div>
            </div>
            
            <h3>JSON Sintaxis</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 300px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Estructura Básica</h4>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        {<br>
                        &nbsp;&nbsp;"name": "John",<br>
                        &nbsp;&nbsp;"age": 30,<br>
                        &nbsp;&nbsp;"isStudent": false,<br>
                        &nbsp;&nbsp;"courses": ["math", "history"],<br>
                        &nbsp;&nbsp;"address": {<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"street": "123 Main St",<br>
                        &nbsp;&nbsp;&nbsp;&nbsp;"city": "New York"<br>
                        &nbsp;&nbsp;}<br>
                        }
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 300px;">
                    <h4 style="margin-top: 0;">Reglas de JSON</h4>
                    <ul>
                        <li>Los datos están en pares clave/valor</li>
                        <li>Las claves deben ser cadenas (entre comillas dobles)</li>
                        <li>Los valores pueden ser:
                            <ul>
                                <li>Cadena (entre comillas dobles)</li>
                                <li>Número</li>
                                <li>Booleano</li>
                                <li>Array</li>
                                <li>Objeto</li>
                                <li>null</li>
                            </ul>
                        </li>
                        <li>Sin comas finales</li>
                        <li>Sin comentarios</li>
                    </ul>
                </div>
            </div>
            
            <h3>Trabajando con JSON en Node.js</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 300px; background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Analizar JSON</h4>
                    <p>Convierte una cadena JSON a un objeto JavaScript</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        const obj = JSON.parse('{"name":"John"}');<br>
                        console.log(obj.name); // John
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 300px; background: #e3f2fd; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Convertir Objeto a JSON</h4>
                    <p>Convierte un objeto JavaScript a una cadena JSON</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        const json = JSON.stringify({name: "John"});<br>
                        console.log(json); // {"name":"John"}
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="package-lock" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('package-lock')">&times;</span>
            <h2>package-lock.json</h2>
            
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                <i class="fas fa-lock" style="font-size: 3rem; margin-right: 20px;"></i>
                <div>
                    <p>El <code>package-lock.json</code> se genera automáticamente cuando instalas paquetes con npm. Registra la versión exacta de cada paquete instalado y sus dependencias.</p>
                </div>
            </div>
            
            <h3>¿Por qué es importante package-lock.json?</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Bloqueo de Versiones</h4>
                    <p>Asegura que las mismas versiones exactas de las dependencias se instalen en todos los entornos (desarrollo, producción, CI)</p>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #e3f2fd; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Árbol de Dependencias</h4>
                    <p>Registra el árbol completo de dependencias, incluidas las dependencias anidadas</p>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #fff8e1; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Velocidad de Instalación</h4>
                    <p>Permite a npm omitir la resolución de versiones para instalaciones más rápidas</p>
                </div>
            </div>
            
            <h3>Diferencias Clave</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 300px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">package.json</h4>
                    <ul>
                        <li>Lista de dependencias directas</li>
                        <li>Usa versionado semántico (^, ~)</li>
                        <li>Editado manualmente</li>
                        <li>Lista tanto dependencias como devDependencies</li>
                    </ul>
                </div>
                
                <div style="flex: 1; min-width: 300px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">package-lock.json</h4>
                    <ul>
                        <li>Lista versiones exactas de todas las dependencias</li>
                        <li>Sin versionado semántico - solo versiones exactas</li>
                        <li>Generado automáticamente</li>
                        <li>Incluye verificaciones de integridad (hashes)</li>
                    </ul>
                </div>
            </div>
            
            <h3>Mejores Prácticas</h3>
            <ul>
                <li><strong>Comprometer en el control de versiones:</strong> Siempre incluye package-lock.json en tu repositorio</li>
                <li><strong>No editar manualmente:</strong> Deja que npm gestione este archivo</li>
                <li><strong>Regenerar cuando sea necesario:</strong> Elimina y ejecuta <code>npm install</code> si sospechas problemas</li>
            </ul>
        </div>
    </div>
    
    <div id="http-module" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('http-module')">&times;</span>
            <h2>Módulo HTTP</h2>
            
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                <i class="fas fa-globe" style="font-size: 3rem; margin-right: 20px;"></i>
                <div>
                    <p>El <code>http</code> módulo permite a Node.js transferir datos a través de HTTP. Puede crear un servidor HTTP que escuche puertos de servidor y devuelva una respuesta al cliente.</p>
                </div>
            </div>
            
            <h3>Creando un Servidor HTTP Básico</h3>
            <div class="code-block" style="margin: 15px 0;">
                const http = require('http');<br><br>
                
                const server = http.createServer((req, res) => {<br>
                &nbsp;&nbsp;// Manejar solicitud<br>
                &nbsp;&nbsp;res.statusCode = 200;<br>
                &nbsp;&nbsp;res.setHeader('Content-Type', 'text/plain');<br>
                &nbsp;&nbsp;res.end('¡Hola Mundo!');<br>
                });<br><br>
                
                server.listen(3000, () => {<br>
                &nbsp;&nbsp;console.log('Servidor corriendo en el puerto 3000');<br>
                });
            </div>
            
            <h3>Componentes Clave</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">http.createServer()</h4>
                    <p>Crea una nueva instancia de servidor HTTP</p>
                    <p>Recibe una función de escucha de solicitud que se llama para cada solicitud</p>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #e3f2fd; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Objeto de Solicitud (req)</h4>
                    <p>Contiene información sobre la solicitud entrante:</p>
                    <ul>
                        <li>req.url - URL de la solicitud</li>
                        <li>req.method - Método HTTP</li>
                        <li>req.headers - Encabezados de la solicitud</li>
                    </ul>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #fff8e1; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Objeto de Respuesta (res)</h4>
                    <p>Se utiliza para enviar datos de vuelta al cliente:</p>
                    <ul>
                        <li>res.statusCode - Establecer código de estado</li>
                        <li>res.setHeader() - Establecer encabezados de respuesta</li>
                        <li>res.end() - Enviar respuesta y cerrar conexión</li>
                    </ul>
                </div>
            </div>
            
            <h3>Manejo de Diferentes Rutas</h3>
            <div class="code-block" style="margin: 15px 0;">
                const server = http.createServer((req, res) => {<br>
                &nbsp;&nbsp;if (req.url === '/') {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;res.end('Página de inicio');<br>
                &nbsp;&nbsp;} else if (req.url === '/about') {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;res.end('Página sobre');<br>
                &nbsp;&nbsp;} else {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;res.statusCode = 404;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;res.end('Página no encontrada');<br>
                &nbsp;&nbsp;}<br>
                });<br><br>
                
                server.listen(3000);
            </div>
        </div>
    </div>
    
    <div id="request-response" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('request-response')">&times;</span>
            <h2>Solicitud y Respuesta HTTP</h2>
            
            <div class="diagram">
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="display: inline-block; background: #e3f2fd; padding: 15px; border-radius: 6px; margin: 0 10px;">
                        <i class="fas fa-laptop" style="font-size: 2rem;"></i>
                        <div>Cliente</div>
                    </div>
                    <i class="fas fa-arrow-right" style="font-size: 1.5rem;"></i>
                    <div style="display: inline-block; background: #f5f5f5; padding: 15px; border-radius: 6px; margin: 0 10px;">
                        <div>Solicitud</div>
                        <div style="font-size: 0.8rem;">Método, URL, Encabezados, Cuerpo</div>
                    </div>
                    <i class="fas fa-arrow-right" style="font-size: 1.5rem;"></i>
                    <div style="display: inline-block; background: #e8f5e9; padding: 15px; border-radius: 6px; margin: 0 10px;">
                        <i class="fas fa-server" style="font-size: 2rem;"></i>
                        <div>Servidor</div>
                    </div>
                    <i class="fas fa-arrow-right" style="font-size: 1.5rem;"></i>
                    <div style="display: inline-block; background: #f5f5f5; padding: 15px; border-radius: 6px; margin: 0 10px;">
                        <div>Respuesta</div>
                        <div style="font-size: 0.8rem;">Estado, Encabezados, Cuerpo</div>
                    </div>
                    <i class="fas fa-arrow-right" style="font-size: 1.5rem;"></i>
                    <div style="display: inline-block; background: #e3f2fd; padding: 15px; border-radius: 6px; margin: 0 10px;">
                        <i class="fas fa-laptop" style="font-size: 2rem;"></i>
                        <div>Cliente</div>
                    </div>
                </div>
            </div>
            
            <h3>Componentes de la Solicitud HTTP</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Método</h4>
                    <p>El método HTTP (GET, POST, PUT, DELETE, etc.)</p>
                    <div class="http-methods">
                        <span class="get">GET</span>
                        <span class="post">POST</span>
                        <span class="put">PUT</span>
                        <span class="delete">DELETE</span>
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">URL</h4>
                    <p>La ruta del recurso solicitado</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        /api/users/123?sort=name
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Encabezados</h4>
                    <p>Información adicional sobre la solicitud</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.8rem;">
                        Content-Type: application/json<br>
                        Authorization: Bearer token123
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Cuerpo</h4>
                    <p>Datos enviados con la solicitud (para POST, PUT, etc.)</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.8rem;">
                        { "name": "John", "age": 30 }
                    </div>
                </div>
            </div>
            
            <h3>Componentes de la Respuesta HTTP</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Código de Estado</h4>
                    <p>Código de 3 dígitos que indica el resultado de la solicitud</p>
                    <ul>
                        <li>2xx - Éxito</li>
                        <li>3xx - Redirección</li>
                        <li>4xx - Error del cliente</li>
                        <li>5xx - Error del servidor</li>
                    </ul>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Encabezados</h4>
                    <p>Información adicional sobre la respuesta</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.8rem;">
                        Content-Type: application/json<br>
                        Set-Cookie: session=abc123
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Cuerpo</h4>
                    <p>El contenido real de la respuesta</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.8rem;">
                        { "id": 123, "name": "John" }
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="routing" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('routing')">&times;</span>
            <h2>Enrutamiento Básico</h2>
            
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                <i class="fas fa-route" style="font-size: 3rem; margin-right: 20px;"></i>
                <div>
                    <p>El enrutamiento se refiere a cómo los puntos finales (URIs) de una aplicación responden a las solicitudes del cliente. En Node.js sin Express, manejas el enrutamiento manualmente examinando la URL y el método de la solicitud.</p>
                </div>
            </div>
            
            <h3>Ejemplo de Enrutamiento Básico</h3>
            <div class="code-block" style="margin: 15px 0;">
                const http = require('http');<br><br>
                
                const server = http.createServer((req, res) => {<br>
                &nbsp;&nbsp;// Extraer URL y método<br>
                &nbsp;&nbsp;const { url, method } = req;<br><br>
                
                &nbsp;&nbsp;// Página de inicio<br>
                &nbsp;&nbsp;if (url === '/' && method === 'GET') {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;res.writeHead(200, { 'Content-Type': 'text/html' });<br>
                &nbsp;&nbsp;&nbsp;&nbsp;res.end('&lt;h1&gt;Página de Inicio&lt;/h1&gt;');<br>
                &nbsp;&nbsp;}<br><br>
                
                &nbsp;&nbsp;// Página sobre<br>
                &nbsp;&nbsp;else if (url === '/about' && method === 'GET') {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;res.writeHead(200, { 'Content-Type': 'text/html' });<br>
                &nbsp;&nbsp;&nbsp;&nbsp;res.end('&lt;h1&gt;Página Sobre&lt;/h1&gt;');<br>
                &nbsp;&nbsp;}<br><br>
                
                &nbsp;&nbsp;// Endpoint de API<br>
                &nbsp;&nbsp;else if (url === '/api/users' && method === 'GET') {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;res.writeHead(200, { 'Content-Type': 'application/json' });<br>
                &nbsp;&nbsp;&nbsp;&nbsp;res.end(JSON.stringify([{ id: 1, name: 'John' }]));<br>
                &nbsp;&nbsp;}<br><br>
                
                &nbsp;&nbsp;// No encontrado<br>
                &nbsp;&nbsp;else {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;res.writeHead(404, { 'Content-Type': 'text/html' });<br>
                &nbsp;&nbsp;&nbsp;&nbsp;res.end('&lt;h1&gt;Página No Encontrada&lt;/h1&gt;');<br>
                &nbsp;&nbsp;}<br>
                });<br><br>
                
                server.listen(3000);
            </div>
            
            <h3>Desafíos del Enrutamiento</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Análisis Manual</h4>
                    <p>Necesitas analizar manualmente las URL y los parámetros de consulta</p>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        const url = require('url');<br>
                        const parsedUrl = url.parse(req.url, true);<br>
                        const path = parsedUrl.pathname;<br>
                        const query = parsedUrl.query;
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Complejidad</h4>
                    <p>El enrutamiento se vuelve complejo con muchos puntos finales</p>
                    <p>Grandes declaraciones if-else o switch</p>
                    <p>Sin soporte incorporado para parámetros de ruta</p>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Middleware</h4>
                    <p>Sin soporte incorporado para middleware</p>
                    <p>Necesitas manejar manualmente cosas como:</p>
                    <ul>
                        <li>Análisis de JSON</li>
                        <li>Autenticación</li>
                        <li>Manejo de errores</li>
                    </ul>
                </div>
            </div>
            
            <h3>¿Por qué usar Express para el Enrutamiento?</h3>
            <p>Express proporciona un sistema de enrutamiento mucho más limpio y potente:</p>
            <div class="code-block" style="margin: 15px 0;">
                // Con Express<br>
                const express = require('express');<br>
                const app = express();<br><br>
                
                app.get('/', (req, res) => {<br>
                &nbsp;&nbsp;res.send('Página de Inicio');<br>
                });<br><br>
                
                app.get('/about', (req, res) => {<br>
                &nbsp;&nbsp;res.send('Página Sobre');<br>
                });<br><br>
                
                app.get('/api/users', (req, res) => {<br>
                &nbsp;&nbsp;res.json([{ id: 1, name: 'John' }]);<br>
                });<br><br>
                
                app.listen(3000);
            </div>
        </div>
    </div>
    
    <div id="express-intro" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('express-intro')">&times;</span>
            <h2>Express.js Framework</h2>
            
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                <i class="fas fa-bolt" style="font-size: 3rem; margin-right: 20px;"></i>
                <div>
                    <p>Express es un framework web minimalista y flexible para Node.js que proporciona un conjunto robusto de características para aplicaciones web y móviles.</p>
                </div>
            </div>
            
            <h3>¿Por qué usar Express?</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #e8f5e9; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Enrutamiento Simplificado</h4>
                    <p>Una sintaxis limpia para definir rutas y manejar métodos HTTP</p>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #e3f2fd; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Soporte para Middleware</h4>
                    <p>Componentes modulares que pueden manejar diversas tareas</p>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #fff8e1; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Motores de Plantillas</h4>
                    <p>Soporte para renderizar vistas dinámicas (Pug, EJS, etc.)</p>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #fce4ec; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Manejo de Errores</h4>
                    <p>Mecanismos de manejo de errores incorporados</p>
                </div>
            </div>
            
            <h3>Aplicación Básica con Express</h3>
            <div class="code-block" style="margin: 15px 0;">
                const express = require('express');<br>
                const app = express();<br>
                const port = 3000;<br><br>
                
                // Definir rutas<br>
                app.get('/', (req, res) => {<br>
                &nbsp;&nbsp;res.send('¡Hola Mundo!');<br>
                });<br><br>
                
                // Iniciar servidor<br>
                app.listen(port, () => {<br>
                &nbsp;&nbsp;console.log(`Servidor corriendo en el puerto ${port}`);<br>
                });
            </div>
            
            <h3>Express vs Módulo HTTP Principal</h3>
            <div style="overflow-x: auto;">
                <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                    <thead>
                        <tr style="background: #43853d; color: white;">
                            <th style="padding: 10px; text-align: left;">Característica</th>
                            <th style="padding: 10px; text-align: left;">Core HTTP</th>
                            <th style="padding: 10px; text-align: left;">Express</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;">Enrutamiento</td>
                            <td style="padding: 10px;">Manual con if-else</td>
                            <td style="padding: 10px;">app.get(), app.post(), etc.</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;">Middleware</td>
                            <td style="padding: 10px;">Ninguno</td>
                            <td style="padding: 10px;">app.use(), router.use()</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;">Análisis de Solicitudes</td>
                            <td style="padding: 10px;">Manual</td>
                            <td style="padding: 10px;">Incorporado (express.json(), etc.)</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;">Motores de Plantillas</td>
                            <td style="padding: 10px;">Ninguno</td>
                            <td style="padding: 10px;">Soporte para muchos motores</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;">Manejo de Errores</td>
                            <td style="padding: 10px;">Manual</td>
                            <td style="padding: 10px;">Middleware especial</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <div id="middleware" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('middleware')">&times;</span>
            <h2>Middleware en Express</h2>
            
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                <i class="fas fa-filter" style="font-size: 3rem; margin-right: 20px;"></i>
                <div>
                    <p>Las funciones middleware son funciones que tienen acceso al objeto de solicitud (req), al objeto de respuesta (res) y a la siguiente función middleware en el ciclo de solicitud-respuesta de la aplicación.</p>
                </div>
            </div>
            
            <h3>Pipeline de Middleware</h3>
            <div class="diagram">
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="display: inline-block; text-align: center; margin: 0 10px;">
                        <div style="background: #e3f2fd; padding: 10px; border-radius: 6px;">Solicitud</div>
                        <i class="fas fa-arrow-down" style="font-size: 1.5rem;"></i>
                    </div>
                    <div style="display: inline-block; text-align: center; margin: 0 10px;">
                        <div style="background: #f5f5f5; padding: 10px; border-radius: 6px;">Middleware 1</div>
                        <i class="fas fa-arrow-down" style="font-size: 1.5rem;"></i>
                    </div>
                    <div style="display: inline-block; text-align: center; margin: 0 10px;">
                        <div style="background: #f5f5f5; padding: 10px; border-radius: 6px;">Middleware 2</div>
                        <i class="fas fa-arrow-down" style="font-size: 1.5rem;"></i>
                    </div>
                    <div style="display: inline-block; text-align: center; margin: 0 10px;">
                        <div style="background: #e8f5e9; padding: 10px; border-radius: 6px;">Controlador de Ruta</div>
                        <i class="fas fa-arrow-down" style="font-size: 1.5rem;"></i>
                    </div>
                    <div style="display: inline-block; text-align: center; margin: 0 10px;">
                        <div style="background: #e3f2fd; padding: 10px; border-radius: 6px;">Respuesta</div>
                    </div>
                </div>
            </div>
            
            <h3>Tipos de Middleware</h3>
            <div style="display: flex; flex-wrap: wrap; gap: 15px; margin: 15px 0;">
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">A Nivel de Aplicación</h4>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        app.use((req, res, next) => {<br>
                        &nbsp;&nbsp;console.log('Hora:', Date.now());<br>
                        &nbsp;&nbsp;next();<br>
                        });
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">A Nivel de Router</h4>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        router.use((req, res, next) => {<br>
                        &nbsp;&nbsp;console.log('Middleware de router');<br>
                        &nbsp;&nbsp;next();<br>
                        });
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Manejo de Errores</h4>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        app.use((err, req, res, next) => {<br>
                        &nbsp;&nbsp;console.error(err.stack);<br>
                        &nbsp;&nbsp;res.status(500).send('¡Error!');<br>
                        });
                    </div>
                </div>
                
                <div style="flex: 1; min-width: 200px; background: #f5f5f5; padding: 15px; border-radius: 6px;">
                    <h4 style="margin-top: 0;">Incorporado</h4>
                    <div class="code-block" style="margin: 10px 0 0; padding: 10px; font-size: 0.9rem;">
                        app.use(express.json());<br>
                        app.use(express.urlencoded());<br>
                        app.use(express.static('public'));
                    </div>
                </div>
            </div>
            
            <h3>Ejemplos Comunes de Middleware</h3>
            <div class="code-block" style="margin: 15px 0;">
                // Middleware de registro<br>
                app.use((req, res, next) => {<br>
                &nbsp;&nbsp;console.log(`${req.method} ${req.url}`);<br>
                &nbsp;&nbsp;next();<br>
                });<br><br>
                
                // Middleware de autenticación<br>
                const auth = (req, res, next) => {<br>
                &nbsp;&nbsp;if (req.headers.authorization) {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;next();<br>
                &nbsp;&nbsp;} else {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;res.status(401).send('No autorizado');<br>
                &nbsp;&nbsp;}<br>
                };<br><br>
                
                // Aplicar a ruta específica<br>
                app.get('/protected', auth, (req, res) => {<br>
                &nbsp;&nbsp;res.send('Contenido protegido');<br>
                });
            </div>
        </div>
    </div>
    
    <div id="rest-crud" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeModal('rest-crud')">&times;</span>
            <h2>REST y CRUD con Express</h2>
            
            <div style="display: flex; align-items: center; margin-bottom: 20px;">
                <div style="font-size: 3rem; margin-right: 20px;">
                    <div class="http-methods" style="justify-content: center;">
                        <span class="get">GET</span>
                        <span class="post">POST</span>
                        <span class="put">PUT</span>
                        <span class="delete">DELETE</span>
                    </div>
                </div>
                <div>
                    <p>REST (Transferencia de Estado Representacional) es un estilo arquitectónico para diseñar aplicaciones en red. CRUD (Crear, Leer, Actualizar, Eliminar) son las operaciones básicas de almacenamiento persistente.</p>
                </div>
            </div>
            
            <h3>Rutas RESTful para un Recurso</h3>
            <div style="overflow-x: auto;">
                <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                    <thead>
                        <tr style="background: #43853d; color: white;">
                            <th style="padding: 10px; text-align: left;">Método HTTP</th>
                            <th style="padding: 10px; text-align: left;">Ruta</th>
                            <th style="padding: 10px; text-align: left;">Descripción</th>
                            <th style="padding: 10px; text-align: left;">CRUD</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;"><span class="get">GET</span></td>
                            <td style="padding: 10px;">/users</td>
                            <td style="padding: 10px;">Obtener todos los usuarios</td>
                            <td style="padding: 10px;">Leer</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;"><span class="get">GET</span></td>
                            <td style="padding: 10px;">/users/:id</td>
                            <td style="padding: 10px;">Obtener un solo usuario</td>
                            <td style="padding: 10px;">Leer</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;"><span class="post">POST</span></td>
                            <td style="padding: 10px;">/users</td>
                            <td style="padding: 10px;">Crear un nuevo usuario</td>
                            <td style="padding: 10px;">Crear</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;"><span class="put">PUT</span></td>
                            <td style="padding: 10px;">/users/:id</td>
                            <td style="padding: 10px;">Actualizar usuario completo</td>
                            <td style="padding: 10px;">Actualizar</td>
                        </tr>
                        <tr style="border-bottom: 1px solid #ddd;">
                            <td style="padding: 10px;"><span class="patch">PATCH</span></td>
                            <td style="padding: 10px;">/users/:id</td>
                            <td style="padding: 10px;">Actualizar parcialmente el usuario</td>
                            <td style="padding: 10px;">Actualizar</td>
                        </tr>
                        <tr>
                            <td style="padding: 10px;"><span class="delete">DELETE</span></td>
                            <td style="padding: 10px;">/users/:id</td>
                            <td style="padding: 10px;">Eliminar usuario</td>
                            <td style="padding: 10px;">Eliminar</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <h3>Implementación de CRUD en Express</h3>
            <div class="code-block" style="margin: 15px 0;">
                const express = require('express');<br>
                const app = express();<br>
                app.use(express.json());<br><br>
                
                let users = [{ id: 1, name: 'John' }];<br><br>
                
                // GET todos los usuarios<br>
                app.get('/users', (req, res) => {<br>
                &nbsp;&nbsp;res.json(users);<br>
                });<br><br>
                
                // GET un solo usuario<br>
                app.get('/users/:id', (req, res) => {<br>
                &nbsp;&nbsp;const user = users.find(u => u.id === parseInt(req.params.id));<br>
                &nbsp;&nbsp;if (!user) return res.status(404).send('Usuario no encontrado');<br>
                &nbsp;&nbsp;res.json(user);<br>
                });<br><br>
                
                // POST crear usuario<br>
                app.post('/users', (req, res) => {<br>
                &nbsp;&nbsp;const user = {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;id: users.length + 1,<br>
                &nbsp;&nbsp;&nbsp;&nbsp;name: req.body.name<br>
                &nbsp;&nbsp;};<br>
                &nbsp;&nbsp;users.push(user);<br>
                &nbsp;&nbsp;res.status(201).json(user);<br>
                });<br><br>
                
                // PUT actualizar usuario<br>
                app.put('/users/:id', (req, res) => {<br>
                &nbsp;&nbsp;const user = users.find(u => u.id === parseInt(req.params.id));<br>
                &nbsp;&nbsp;if (!user) return res.status(404).send('Usuario no encontrado');<br><br>
                
                &nbsp;&nbsp;user.name = req.body.name;<br>
                &nbsp;&nbsp;res.json(user);<br>
                });<br><br>
                
                // DELETE usuario<br>
                app.delete('/users/:id', (req, res) => {<br>
                &nbsp;&nbsp;const userIndex = users.findIndex(u => u.id === parseInt(req.params.id));<br>
                &nbsp;&nbsp;if (userIndex === -1) return res.status(404).send('Usuario no encontrado');<br><br>
                
                &nbsp;&nbsp;users.splice(userIndex, 1);<br>
                &nbsp;&nbsp;res.status(204).send();<br>
                });<br><br>
                
                app.listen(3000);
            </div>
            
            <h3>Mejores Prácticas</h3>
            <ul>
                <li><strong>Usar métodos HTTP apropiados:</strong> GET para leer, POST para crear, PUT/PATCH para actualizar, DELETE para eliminar</li>
                <li><strong>Usar códigos de estado apropiados:</strong> 200 OK, 201 Creado, 204 Sin Contenido, 400 Solicitud Incorrecta, 404 No Encontrado, 500 Error del Servidor</li>
                <li><strong>Nomenclatura consistente:</strong> Usar sustantivos en plural para recursos (/users, /products)</li>
                <li><strong>Versionar tu API:</strong> Considera prefijar rutas con /api/v1/</li>
                <li><strong>Manejo de errores:</strong> Devolver mensajes de error significativos con códigos de estado apropiados</li>
            </ul>
        </div>
    </div>
    
    <script>
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        // Close modal when clicking outside of it
        window.onclick = function(event) {
            const modals = document.getElementsByClassName('modal');
            for (let i = 0; i < modals.length; i++) {
                if (event.target == modals[i]) {
                    modals[i].style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            }
        }
    </script>
</body>
</html>